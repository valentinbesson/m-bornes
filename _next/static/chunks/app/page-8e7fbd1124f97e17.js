(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4795:(e,r,t)=>{Promise.resolve().then(t.bind(t,6490))},6490:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var a=t(5155),s=t(2115),l=t(4624),n=t(2085),i=t(2596),d=t(9688);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,d.QP)((0,i.$)(r))}let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=s.forwardRef((e,r)=>{let{className:t,variant:s,size:n,asChild:i=!1,...d}=e,g=i?l.DX:"button";return(0,a.jsx)(g,{className:o(c({variant:s,size:n,className:t})),ref:r,...d})});g.displayName="Button";let m=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});m.displayName="Card",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:o("flex flex-col space-y-1.5 p-6",t),...s})}).displayName="CardHeader",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:o("text-2xl font-semibold leading-none tracking-tight",t),...s})}).displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:o("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let x=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:o("p-6 pt-0",t),...s})});x.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:o("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter";var u=t(133),b=t(7580),h=t(2355),f=t(3052);let p={25:"images/snail-25.png",50:"images/duck-50.png",75:"images/butterfly-75.png",100:"images/hare-100.png",200:"images/swallow-200.png"};function v(){let[e,r]=(0,s.useState)(1),[t,l]=(0,s.useState)(0),[n,i]=(0,s.useState)([{cards:{25:0,50:0,75:0,100:0,200:0},total:0,isWinner:!1}]),d=e=>{i(Array(e).fill(null).map(()=>({cards:{25:0,50:0,75:0,100:0,200:0},total:0,isWinner:!1}))),l(0)},o=(e,r,t)=>{i(a=>{let s=[...a],l={...s[e]};if(l.isWinner&&t>0)return a;let n=Math.max(0,l.cards[r]+t);if(200===r&&n>2)return a;l.cards[r]=n;let i=Object.entries(l.cards).reduce((e,r)=>{let[t,a]=r;return e+Number.parseInt(t)*a},0);return i>1e3?a:(l.total=i,l.isWinner=1e3===i,s[e]=l,s)})},c=e=>Math.min(e/1e3*100,100),v=n[t]||n[0];return(0,a.jsxs)("div",{className:"min-h-screen bg-black p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)(g,{variant:"outline",size:"icon",onClick:()=>{d(e)},className:"bg-blue-600 border-blue-500 text-white hover:bg-blue-700",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"flex gap-2",children:[1,2,3,4].map(t=>(0,a.jsxs)(g,{variant:e===t?"default":"outline",onClick:()=>{r(t),d(t)},className:e===t?"bg-blue-600 text-white":"bg-transparent border-blue-500 text-blue-400 hover:bg-blue-600 hover:text-white",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-1"}),t," joueur",t>1?"s":""]},t))})]}),(0,a.jsx)(m,{className:"mb-6 bg-gray-100 border-gray-300",children:(0,a.jsx)(x,{className:"p-4 text-[rgba(237,245,254,1)]",children:(0,a.jsxs)("div",{className:"relative rounded-full h-10 overflow-visible border-2 py-2.5 px-2.5 border-[rgba(186,186,186,1)]",children:[(0,a.jsx)("div",{className:"h-full transition-all duration-500 rounded-full",style:{backgroundColor:"#E1ED76",width:"".concat(c(v.total),"%")}}),(0,a.jsx)("div",{className:"absolute top-1/2 text-white font-bold border-2 border-white text-2xl ".concat(v.isWinner?"bg-green-600":"bg-blue-500"," rounded-lg px-4 py-2 transition-all duration-500 w-[80px] text-center z-20 shadow-md flex items-center justify-center"),style:{left:0===c(v.total)?"0%":100===c(v.total)?"calc(100% - 80px)":"".concat(c(v.total),"%"),transform:0===c(v.total)?"translateY(-50%)":100===c(v.total)?"translateY(-50%)":"translate(-50%, -50%)"},children:v.isWinner?"1000":v.total}),(0,a.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)("img",{src:"arrival.svg",alt:"Drapeau d'arriv\xe9e",className:"w-5 h-5"})})]})})}),(0,a.jsxs)("div",{className:"rounded-lg p-4 mb-4 min-h-[500px] relative overflow-hidden",style:{backgroundColor:"#E1ED76"},children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-30"}),(0,a.jsx)("div",{className:"relative z-10 space-y-4",children:[200,100,75,50,25].map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-2",children:(0,a.jsx)(g,{variant:"outline",size:"icon",onClick:()=>o(t,e,-1),disabled:0===v.cards[e],className:"w-12 h-12 rounded-lg font-bold text-lg ".concat(0===v.cards[e]?"bg-gray-200 text-gray-400 border-gray-300 cursor-not-allowed hover:bg-gray-200":"bg-white border-red-500 text-red-500 hover:bg-red-50"),children:"-"})}),(0,a.jsx)(m,{className:"flex-1 bg-transparent",children:(0,a.jsx)(x,{className:"p-0 border-none shadow-none",children:(0,a.jsx)("div",{className:"flex flex-col gap-2",children:Array.from({length:1}).map((r,t)=>(0,a.jsx)("div",{className:"flex justify-between gap-5 flex-row flex-wrap",children:Array.from({length:200===e?2:10}).map((r,t)=>{let s=t<v.cards[e];return(0,a.jsxs)("div",{className:"flex-1 min-w-[60px] max-w-[80px] rounded-lg flex flex-col items-center justify-center transition-all duration-300 relative h-20",style:{border:s?"7px solid white":"2px dashed rgba(36, 136, 102, 0.25)",backgroundColor:s?"#EDF5FE":"transparent"},children:[0===t&&!s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:"distance/distance-".concat(e,".svg"),alt:"Distance ".concat(e," km"),className:"w-12 h-6 object-contain mb-1",style:{opacity:.25}}),(0,a.jsx)("img",{src:p[e]||"/placeholder.svg",alt:"Carte ".concat(e," km"),className:"w-8 h-8 object-contain",style:{opacity:.25}})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:"distance/distance-".concat(e,".svg"),alt:"Distance ".concat(e," km"),className:"w-12 h-6 object-contain mb-1"}),(0,a.jsx)("img",{src:p[e]||"/placeholder.svg",alt:"Carte ".concat(e," km"),className:"w-8 h-8 object-contain"})]})]},t)})},t))})})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-2 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg px-3 py-2 min-w-[3rem] text-center font-bold text-lg",children:v.cards[e]}),(0,a.jsx)(g,{onClick:()=>o(t,e,1),disabled:v.isWinner||200===e&&v.cards[200]>=2||v.total+e>1e3,className:"w-12 h-12 rounded-lg font-bold text-lg ".concat(v.isWinner||200===e&&v.cards[200]>=2||v.total+e>1e3?"bg-gray-300 text-gray-500 cursor-not-allowed hover:bg-gray-300":"bg-blue-500 hover:bg-blue-600 text-white"),children:"+"})]})})]},e))})]}),e>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg p-4",children:[(0,a.jsx)(g,{variant:"outline",size:"icon",onClick:()=>{l(r=>(r-1+e)%e)},className:"bg-red-500 border-red-500 text-white hover:bg-red-600",children:(0,a.jsx)(h.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[(0,a.jsx)(b.A,{className:"h-5 w-5"}),"Joueur ",t+1,v.isWinner&&(0,a.jsx)("span",{className:"bg-green-500 text-white px-2 py-1 rounded text-sm ml-2",children:"GAGNANT !"})]}),(0,a.jsx)(g,{variant:"outline",size:"icon",onClick:()=>{l(r=>(r+1)%e)},className:"bg-blue-500 border-blue-500 text-white hover:bg-blue-600",children:(0,a.jsx)(f.A,{className:"h-4 w-4"})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[976,441,684,358],()=>r(4795)),_N_E=e.O()}]);